% Ce template est conçu pour générer des fiches de synthèse uniformes.
% Il repose sur des choix personnels que j’ai établis en tant qu’auteur récurrent de documents dans le cadre de ma CPGE.

% ===================================================================
% PRÉAMBULE
% ===================================================================

\documentclass[a4paper,12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\usepackage{geometry}
\usepackage{parskip}
\usepackage{fancyhdr}
\usepackage{amsmath, amssymb}
\usepackage{graphicx}
\usepackage{array}
\usepackage{longtable}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{xcolor}
\usepackage{listings}
\usepackage[version=4]{mhchem}
\usepackage{bm}
\usepackage{ragged2e}
\usepackage{titlesec}
\usepackage{enumitem}
\usepackage{datetime}
\usepackage[most]{tcolorbox}

\geometry{
  margin=2cm,
  top=1.2cm,
  bottom=1cm,
  includefoot
}

\setlength{\footskip}{1.2cm}

\titleformat{\section}
  {\large\bfseries}
  {}
  {0em}
  {\underline}

\setlist[itemize]{
    label=\textbf{--},
    topsep=0pt,
    itemsep=0\baselineskip,
    partopsep=0pt,
    leftmargin=*
}
\newlist{subitemize}{itemize}{1}

\setlist[subitemize]{
    label=$\circ$,
    nosep, 
    topsep=-\parskip, 
    leftmargin=*,
    after=\vspace{0pt} 
}

\newtcbox{\code}{
  on line,
  colback=gray!10,
  colframe=gray!10,
  arc=2pt,
  boxrule=0pt,
  left=2pt,
  right=2pt,
  top=1pt,
  bottom=1pt,
  fontupper=\ttfamily
}

\newcommand{\repere}{%
  00\_global\_%           Selon la matière : 00_global, 01_maths, 02_pc, 03_ssi, 04_info, 05_fr, 06_lv.
  \twodigit{\month}%
  \twodigit{\day}%
  \twodigit{\currenthour}%
  \twodigit{\currentminute}%
}
% Paramétrage du pied de page.
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[L]{\small 2025--2026}
\fancyfoot[C]{\small \thepage}
\fancyfoot[R]{\small TSI1 -- Jean Decroocq}

\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0.4pt}

\lstset{
    language=Python,
    basicstyle=\ttfamily\footnotesize\color[HTML]{606060},
    numbers=left,
    numberstyle=\color{gray},
    breaklines=true,
    showstringspaces=false,
    frame=none,
    tabsize=4,
    backgroundcolor=\color{gray!10},
    identifierstyle=\color[HTML]{000000},
    keywordstyle=\color[HTML]{1865ea},
    stringstyle=\color[HTML]{f74a68},
    commentstyle=\color[HTML]{25be80},
    literate={é}{{\'e}}1
           {è}{{\`e}}1
           {à}{{\`a}}1
           {ç}{{\c c}}1
           {ù}{{\`u}}1
           {â}{{\^a}}1
           {ê}{{\^e}}1
           {î}{{\^i}}1
           {ô}{{\^o}}1
           {û}{{\^u}}1
}

% ===================================================================
% DÉBUT DU DOCUMENT
% ===================================================================
\begin{document}

% --- EN-TÊTE DE LA FICHE ---
\noindent
\begin{minipage}[t]{0.15\textwidth}
    \small \repere
\end{minipage}%
\begin{minipage}[t]{0.7\textwidth}
    \centering
    \small Thème principal
\end{minipage}

\vspace{-0.2cm}
\noindent
\centering
{\large \textbf{Titre du document}} \\
{\small \textit{Sous-titre optionnel}} % J’insiste : ce sous-titre est prévu en cas de besoin, mais en règle générale, il est parfaitement inutile ! Il ne faut donc pas chercher à le remplir inutilement.
\vspace{0.3cm}

\justifying
% ===================================================================
% CORPS DE LA FICHE
% ===================================================================


\hspace*{2em}Ceci est un paragraphe de texte standard, non inclus dans une liste.
Il sert principalement aux introductions ou aux explications générales, mais il est honnêtement peu utilisé dans les fiches de synthèse.


\section{Titre de section}

\begin{itemize}
    \item Ceci est un item de premier niveau.
    Un même item peut contenir plusieurs lignes de texte sans difficulté.
    Pour revenir à la ligne, on utilise deux antislashs. \\
    C’est ainsi qu’on revient à la ligne dans un même item, afin de compléter le propos, par exemple.

    \item Ceci est un autre item. Il contient une sous-liste pour détailler certains points :
    \begin{subitemize}
        \item Ceci est un sous-item.
        \item Un autre sous-item pour l’exemple.
    \end{subitemize}

    \item L’usage d’un registre de langue soutenu me plaît particulièrement, car il favorise la rigueur et la précision dans mon apprentissage. Par ailleurs, la clarté et la concision demeurent des principes essentiels.
    
    \item J'utilise ce dernier item pour informer qu’il n'est pas permis de faire usage de mises en relief (gras, italique, souligné...) dans les paragraphes et items.
    % J’insiste : ce point est — par expérience — bien trop sous-estimé par les LLM, alors qu’il est pourtant fondamental (car j’en ai décidé ainsi !) DONC PAS DE GRAS !
    % En effet, on tend souvent à abuser du gras (notamment dans les productions d’IA) sous prétexte d’améliorer la clarté.
    % Je m’y oppose : cela dilue l’attention et nuit à la mise en valeur des rares informations véritablement cruciales.
\end{itemize}



\section{Autre section avec des formules}

\begin{itemize}
    \item Une formule mathématique peut être insérée et centrée sur sa propre ligne, de cette manière :
     \[
    s(t) = \langle s(t) \rangle + \sum_{n=1}^{\infty} A_n \cos(n\omega t + \varphi_n).
    \]
    On veille toujours à la ponctuation, hautement considérée, même dans les formules. %La ponctuation constitue également un aspect à ne pas sous-estimer : elle doit être rigoureuse et conforme aux normes, tant dans un texte argumentatif que dans un développement mathématique.
    
    \item Il est possible de présenter plusieurs formules courtes sur une seule ligne pour économiser de l’espace :
    
    \noindent\begin{minipage}{0.33\linewidth}
        \centering \( \displaystyle f = \frac{1}{T} \)
    \end{minipage}%
    \begin{minipage}{0.33\linewidth}
        \centering \( \displaystyle T = \frac{1}{f} \)
    \end{minipage}%
    \begin{minipage}{0.33\linewidth}
        \centering \( \displaystyle \omega = 2\pi f \)
    \end{minipage}
\end{itemize}


\section{Exemples de tableaux et d’images}

\begin{itemize}
    \item Il est pertinent d’utiliser des tableaux dès que possible : leur mise en forme contribue à la clarté intellectuelle. 

    \item Voici un petit tableau centré, avec des en-têtes non gras :
    \begin{center}
    {\small
    \begin{tabular}{|c|c|c|c|}
        \hline
        Atome & H & C & N \\
        \hline
        $\chi$ & 2,20 & 2,55 & 3,04 \\
        \hline
    \end{tabular}
    }
    \end{center}

    \item Voici un tableau plus courant :
    \begin{center}
    {\small
    \begin{tabular}{|>{\raggedright\arraybackslash}p{4cm}|>{\raggedright\arraybackslash}p{3cm}|>{\raggedright\arraybackslash}p{5cm}|}
    \hline
    \textbf{Catégorie} & \textbf{Formule} & \textbf{Nom} \\
    \hline
    Molécule neutre & \ce{NH3} & Ammoniac \\
    \hline
    \multirow{2}{*}{Cation (positif)} & \ce{H3O+} & Oxonium \\
                                    & \ce{NH4+} & Ammonium \\
    \hline
    \multirow{4}{*}{Anion (négatif)} & \ce{OH-} & Hydroxyde \\
                                    & \ce{SO4^{2-}} & Sulfate \\
                                    & \ce{NO3-} & Nitrate \\
                                    & \ce{MnO4-} & Permanganate \\
    \hline
    \end{tabular}
    }
    \end{center}
    \leavevmode % Très important

    \item Et voici un tableau plus conséquent, occupant toute la largeur du texte :

    \renewcommand{\arraystretch}{1.3}
    {\small
    \begin{tabularx}{\linewidth}{|
        >{\justifying\arraybackslash}p{0.2\linewidth}|
        >{\justifying\arraybackslash}X|
        >{\justifying\arraybackslash}X|
    }
        \hline
        \textbf{Source} &
        \textbf{Une colonne} &
        \textbf{Une autre} \\
        \hline
        Exemple &
        Contenu de la case &
        Autre contenu \\
        \hline
        C’est un tableau &
        En effet &
        Un tableau de qualité. \\
        \hline
        Pour quoi faire ? &
        Idéal lorsqu’il y a beaucoup de contenu &
        Pour ne pas s’y perdre… \\
        \hline
    \end{tabularx}
    }
    \renewcommand{\arraystretch}{1}  

    Lorsqu’un tableau contient un contenu conséquent, il est préférable d’y appliquer les règles usuelles de ponctuation.

    \item Il est également aisé d’insérer une image et de la centrer :
    \begin{center}
        \includegraphics[width=0.5\linewidth]{example-image-a}
    \end{center}    

\end{itemize}


\section{Mise en page avancée}

\noindent
\begin{minipage}[c]{0.55\textwidth}
    \begin{itemize}[itemsep=0.5\baselineskip]
        \item L’environnement \texttt{minipage} permet de créer des blocs de contenu.
        \item On peut ainsi placer une liste d’éléments à côté d’une illustration, ce qui fait à la fois gagner de la place et permet d’illustrer directement le propos.
        \item La largeur de chaque bloc est définie en pourcentage. Veillons à ce que leur somme ne dépasse pas 1 !
    \end{itemize}
\end{minipage}%
\begin{minipage}[c]{0.45\textwidth}
    \centering
    \includegraphics[width=0.9\linewidth]{example-image-b} 
\end{minipage}



\section{Exemple de code informatique (Python)}

\begin{itemize}
    \item On peut faire référence à des éléments de code directement dans le texte, par exemple en mentionnant la fonction \code{calculerValeur()} ou la variable \code{resultat}.
    
    \item Pour présenter un algorithme, on recourt à un bloc de code. Oh, en voici justement un exemple ! % Il est permis de recourir à une ponctuation, et plus généralement à un style, dynamiques et vivants pour égayer le propos.
    
\begin{lstlisting}
def calculer_aire(rayon): # Calcule l'aire d'un cercle
    if rayon < 0:
        return "Rayon non valide."
    else:
        aire = 3.14 * (rayon ** 2)
        return aire
\end{lstlisting}
\end{itemize}

\end{document}
